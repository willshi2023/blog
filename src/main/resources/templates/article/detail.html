<!doctype html>
<html lang="zh-CN" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>首页_个人博客 - 一个站在web前端设计之路的女技术员个人博客网站</title>
<meta name="keywords" content="个人博客,个人博客,个人博客模板,石佳" />
<meta name="description" content="个人博客，是一个站在web前端设计之路的女程序员个人网站，提供个人博客模板免费资源下载的个人原创网站。" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link th:href="@{/blog/css/base.css}" rel="stylesheet">
<link th:href="@{/blog/css/index.css}" rel="stylesheet">
<link th:href="@{/blog/css/info.css}" rel="stylesheet">
<link th:href="@{/blog/css/m.css}" rel="stylesheet">
<script th:src="@{/blog/js/jquery.min.js}" type="text/javascript"></script>
<script type="text/javascript" th:src="@{/blog/js/hc-sticky.js}"></script>
<script type="text/javascript" th:src="@{/blog/js/comm.js}"></script>
<!--[if lt IE 9]>
<script src="js/modernizr.js"></script>
<![endif]-->
</head>
<body>
	
	<!-- 引入网站头文件 -->
	<div th:replace="commons/top::head1"></div>
<article>
  <aside>
  <div class="l_box">
    <div class="search">
      <form action="/e/search/index.php" method="post" name="searchform" id="searchform">
        <input name="keyboard" id="keyboard" class="input_text" value="请输入关键字词" style="color: rgb(153, 153, 153);" onfocus="if(value=='请输入关键字词'){this.style.color='#000';value=''}" onblur="if(value==''){this.style.color='#999';value='请输入关键字词'}" type="text">
        <input name="show" value="title" type="hidden">
        <input name="tempid" value="1" type="hidden">
        <input name="tbname" value="news" type="hidden">
        <input name="Submit" class="input_submit" value="搜索" type="submit">
      </form>
    </div>
    <div class="fenlei">
      <h2>文章分类</h2>
      <ul>
        <li><a href="/">学无止境（33）</a></li>
        <li><a href="/">日记（19）</a></li>
        <li><a href="/">慢生活（520）</a></li>
        <li><a href="/">美文欣赏（40）</a></li>
      </ul>
    </div>
    <div class="tuijian">
      <h2>站长推荐</h2>
      <ul>
        <li><a href="/">你是什么人便会遇上什么人</a></li>
        <li><a href="/">帝国cms 列表页调用子栏目，没有则不显示栏目名称</a></li>
        <li><a href="/">第二届 优秀个人博客模板比赛参选活动</a></li>
        <li><a href="/">个人博客模板《绅士》后台管理</a></li>
        <li><a href="/">你是什么人便会遇上什么人</a></li>
        <li><a href="/">帝国cms 列表页调用子栏目，没有则不显示栏目名称</a></li>
        <li><a href="/">第二届 优秀个人博客模板比赛参选活动</a></li>
        <li><a href="/">个人博客模板《绅士》后台管理</a></li>
      </ul>
    </div>
    <div class="tuijian">
      <h2>点击排行</h2>
      <ul>
        <li><a href="/">你是什么人便会遇上什么人</a></li>
        <li><a href="/">帝国cms 列表页调用子栏目，没有则不显示栏目名称</a></li>
        <li><a href="/">第二届 优秀个人博客模板比赛参选活动</a></li>
        <li><a href="/">个人博客模板《绅士》后台管理</a></li>
        <li><a href="/">你是什么人便会遇上什么人</a></li>
        <li><a href="/">帝国cms 列表页调用子栏目，没有则不显示栏目名称</a></li>
        <li><a href="/">第二届 优秀个人博客模板比赛参选活动</a></li>
        <li><a href="/">个人博客模板《绅士》后台管理</a></li>
      </ul>
    </div>
    <div class="cloud">
      <h2>标签云</h2>
      <ul>
        <a href="/">陌上花开</a> <a href="/">校园生活</a> <a href="/">html5</a> <a href="/">SumSung</a> <a href="/">青春</a> <a href="/">温暖</a> <a href="/">阳光</a> <a href="/">三星</a><a href="/">索尼</a> <a href="/">华维荣耀</a> <a href="/">三星</a> <a href="/">索尼</a>
      </ul>
    </div>
    <div class="guanzhu">
      <h2>关注我 么么哒</h2>
      <ul>
        <img th:src="@{/blog/images/wx.png}">
      </ul>
    </div>
  </div>
  </aside>
  <div class="infosbox">
<main>
    <div class="newsview" id="newsview"></div><br>
	<div class="newsview">
    	<button><a th:href="@{/article/update/}+${articleId}">编辑</a></button> <button onclick="deleteArticle()"><a>删除</a></button>
    </div>
    <div class="share">
      <p class="diggit"><a href=""> 很赞哦！ </a>(<b id="diggnum"><script type="text/javascript" src=""></script>13</b>)</p>
    </div>
    <div class="nextinfo">
      <p>上一篇：<a href="/news/life/2018-03-13/804.html">作为一个设计师,如果遭到质疑你是否能恪守自己的原则?</a></p>
      <p>下一篇：<a href="/news/life/">返回列表</a></p>
    </div>
    <div class="news_pl">
      <h2>文章评论</h2>
      <ul>
        <div class="gbko"> </div>
      </ul>
    </div>
</main>
  </div>
</article>
<footer>
  <p>Design by <a href="http://www.yangqq.com" target="_blank">个人博客</a> <a href="/">蜀ICP备11002373号-1</a></p>
</footer>
<a href="#" class="cd-top">Top</a>
<script th:inline="javascript">
	function updateArticle(){
		var aurl = '/article/update/'+[[${articleId}]];
//		window.location.href=url;
	}
	
function deleteArticle() {  
    //利用对话框返回的值 （true 或者 false）  
    if (confirm("是否删除该文章？")) {  
         var articleId = document.getElementById('articleId').innerHTML;
         //删除文章{"post","/article/delete","$articleId","$Result"}  
         $.ajax({
         	type:"post",
         	url:"/article/delete",
         	async:false,
         	data:{'articleId':articleId},
         	success:function(data){
				if(data.status='true'){
					alert('删除文章成功！');
					window.location.href='/';
				}
         	}
         });
    }  

} 

	window.onload=function(){
		/*aurl = "http://localhost/article/detail/1"*/
		var aurl = window.location.pathname;
		getArticles(aurl);
	}
	
	/*获得文章列表并填充*/
	function getArticles(aurl){
		$.ajax({
			type:"post",
			url:aurl,
			async:false,
			success:function(data){
				var s = document.getElementById('newsview');
				var articleDetail = data.data;
				var shtml = '';
					/*var tags = articleDetail.tags;
					var tagHtml='';
					for(var i=0;i<tags.length;i++){
						tagHtml='<a href="/" target="_blank">'+tags[i]+'</a> &nbsp;';
					}*/
					shtml = shtml+
						'<h3 class="news_title">'+articleDetail.title+'</h3>'+
      			'<div class="bloginfo"><ul><li class="author">作者：'+articleDetail.username+'<a href="/">'+
      			'</a></li>'+
         		'<li class="timer">时间：'+timestampToTime(articleDetail.createTime)+'</li>'+
          	'<li class="view">'+articleDetail.readCount+'次点击</li></ul></div>'+
      			/*'<div class="tags">'+tagHtml+'</div>'+*/
      			'<div class="news_about"><strong>简介</strong>'+articleDetail.summary+'</div>'+
      			'<div class="news_con">'+articleDetail.content+'</div>'+
      			'<div id="articleId" style="visibility: hidden;">'+articleDetail.id+'</div>';
				s.innerHTML=shtml;
			}
		});
	}
	
	/*将时间戳改为YYYY-MM-dd HH:mm:ss的显示方式*/
	function timestampToTime(timestamp) {
		var date = new Date(timestamp);//时间戳为10位需*1000，时间戳为13位的话不需乘1000
		Y = date.getFullYear() + '-';
		M = (date.getMonth()+1 < 10 ? '0'+(date.getMonth()+1) : date.getMonth()+1) + '-';
		D = date.getDate() + ' ';
		h = (date.getHours()<10?'0'+date.getHours():date.getHours()) + ':';
		m = (date.getMinutes()<10?'0'+date.getMinutes():date.getMinutes()) + ':';
		s = date.getSeconds()<10?'0'+date.getSeconds():date.getSeconds();
		return Y+M+D+h+m+s;
	}
</script>
</body>
</html>
